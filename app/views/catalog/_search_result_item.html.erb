<%# This is used for all search result views. 
    Oneresult == one search result item -%>
<div class="oneresult">
  <span class="pageimg">
    <%= link_to_document document,
         :label => image_tag(document.first_image(:size=>:thumb),
                             :alt => document.title,
                             :title => document.title,
                             :border => 0),
         :counter =>  (index + 1 + @response.params[:start].to_i) %>
  </span>
  <% if document.images_item? %>
    <h3 class="image-item-title long-title"><%= link_to document.title.first.html_safe, document %></h3>
    <h3 class="image-item-title short-title"><%= link_to document.title(:length=>"short").first.html_safe, document %></h3>
    <% unless list_is_empty?(document.year) %>
      <span class="item-date"><%= document.year.first %></span>
    <% end %>
  <% else %> <%# AP item %>
    <% unless list_is_empty?(document.session_date)%>
      <h3 class="session-title">
        <%= link_to show_list(document.session_date).html_safe, document %>
      </h3>
    <% end %>
    <% unless list_is_empty?(document.speaker) || document.images_item? %>
    <%# unless document.highlighted_speeches.blank? || document.images_item? %>
      <span class="speaker">
         <span class="frda-label"><%=t('frda.search.results.speaker')%>:&nbsp;</span>
         <%= show_list(document.speaker)%>
         <%#= document.highlighted_speeches.map do |speech|
               speech.speaker
             end.join(", ") %>
      </span>
    <% end %>
      <span class="pagenum">
        <i class="icon-list-alt"></i>
        <%= link_to document.title(:length=>"short"), document %>
      </span>
    
    <% unless document.page_text.blank? %>
    <%# unless document.highlighted_speeches.blank? %>
      <div class="snippet">
        <span class="shorttext">
          <%#= document.highlighted_speeches.map do |speech|
                truncate_highlight(speech.speech, :around => 20, :length => 200)
              end.join("<br/>").html_safe %>
        </span>
        <span class="longtext">
          <%= document.page_text.map do |text|
                truncate_highlight(text, :around => 20, :length => 600)
              end.join("<br/>").html_safe %>
          <%#= document.highlighted_speeches.map do |speech|
                truncate_highlight(speech.speech, :around => 20, :length => 600)
              end.join("<br/>").html_safe %>
        </span>
      </div>
    <% end %>
  <% end %> <%# end document.images_item? %>
</div> <%# end oneresult div %>
